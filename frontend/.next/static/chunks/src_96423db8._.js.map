{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/ghost_socket/frontend/src/store/index.js"],"sourcesContent":["import { create } from \"zustand\";\r\nimport { createChatSlice } from \"./slices/chat-slice\";\r\n\r\nexport const useAppStore = create()((...args) => ({\r\n    ...createChatSlice(...args),\r\n}))"],"names":[],"mappings":";;;AAAA;;;;;;;;AAGO,MAAM,cAAc,CAAA,GAAA,2IAAA,CAAA,SAAM,AAAD,IAAI,CAAC,GAAG,OAAS,CAAC;QAC9C,GAAG,mBAAmB,KAAK;IAC/B,CAAC","debugId":null}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/ghost_socket/frontend/src/utils/constants.js"],"sourcesContent":["export const HOST = process.env.NEXT_SERVER_URL;\r\n"],"names":[],"mappings":";;;AAAoB;AAAb,MAAM,OAAO,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,eAAe","debugId":null}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/ghost_socket/frontend/src/context/SocketContext.jsx"],"sourcesContent":["\"use client\"\r\nimport { useAppStore } from \"@/store\";\r\nimport { HOST } from \"@/utils/constants\";\r\nimport { createContext,useContext, useEffect, useRef } from \"react\";\r\nimport { io } from \"socket.io-client\";\r\n\r\nconst SocketContext = createContext(null);\r\n\r\nexport const useSocket = () => {\r\n    return useContext(SocketContext);\r\n}\r\n\r\nexport const SocketProvider = ({children}) => {\r\n    const socket = useRef();\r\n\r\n    useEffect(() => {\r\n        if (userInfo){\r\n            socket.current = io(HOST, {\r\n                withCredentials: true,\r\n                query: {userId: userInfo.id}\r\n            })\r\n            socket.current.on(\"connect\", () => {\r\n                console.log(\"connected to socket server\");\r\n            })\r\n\r\n            const handleReceiveMessage = (message) => {\r\n                const {selectedChatType, selectedChatData, addMessage, addContactsInDMContacts} = useAppStore.getState()\r\n                if (selectedChatType !== undefined && (selectedChatData._id === message.sender._id || selectedChatData._id === message.recipient._id)){\r\n                    addMessage(message);\r\n                }\r\n                addContactsInDMContacts(message);\r\n            }\r\n\r\n            const handleRecieveChannelMessage = (message) => {\r\n                console.log(\"hello12\")\r\n                const { selectedChatData, selectedChatType, addMessage, addChannelInChannelList } = useAppStore.getState();\r\n              \r\n                if (\r\n                  selectedChatType !== undefined &&\r\n                  selectedChatData._id === message.channelId\r\n                ) {\r\n                  addMessage(message);\r\n                }\r\n                addChannelInChannelList(message);\r\n            };\r\n\r\n            socket.current.on(\"receiveMessage\", handleReceiveMessage)\r\n            socket.current.on(\"receive-channel-message\", handleRecieveChannelMessage)\r\n            return () => {\r\n                socket.current.disconnect();\r\n            }\r\n        }\r\n    }, [userInfo]);\r\n\r\n    return (\r\n        <SocketContext.Provider value={socket.current}>\r\n            {children}\r\n        </SocketContext.Provider>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAAA;;;AAJA;;;;;AAMA,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAAE;AAE7B,MAAM,YAAY;;IACrB,OAAO,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;AACtB;GAFa;AAIN,MAAM,iBAAiB,CAAC,EAAC,QAAQ,EAAC;;IACrC,MAAM,SAAS,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD;IAEpB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACN,IAAI,UAAS;gBACT,OAAO,OAAO,GAAG,CAAA,GAAA,kLAAA,CAAA,KAAE,AAAD,EAAE,4HAAA,CAAA,OAAI,EAAE;oBACtB,iBAAiB;oBACjB,OAAO;wBAAC,QAAQ,SAAS,EAAE;oBAAA;gBAC/B;gBACA,OAAO,OAAO,CAAC,EAAE,CAAC;gDAAW;wBACzB,QAAQ,GAAG,CAAC;oBAChB;;gBAEA,MAAM;qEAAuB,CAAC;wBAC1B,MAAM,EAAC,gBAAgB,EAAE,gBAAgB,EAAE,UAAU,EAAE,uBAAuB,EAAC,GAAG,wHAAA,CAAA,cAAW,CAAC,QAAQ;wBACtG,IAAI,qBAAqB,aAAa,CAAC,iBAAiB,GAAG,KAAK,QAAQ,MAAM,CAAC,GAAG,IAAI,iBAAiB,GAAG,KAAK,QAAQ,SAAS,CAAC,GAAG,GAAE;4BAClI,WAAW;wBACf;wBACA,wBAAwB;oBAC5B;;gBAEA,MAAM;4EAA8B,CAAC;wBACjC,QAAQ,GAAG,CAAC;wBACZ,MAAM,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,UAAU,EAAE,uBAAuB,EAAE,GAAG,wHAAA,CAAA,cAAW,CAAC,QAAQ;wBAExG,IACE,qBAAqB,aACrB,iBAAiB,GAAG,KAAK,QAAQ,SAAS,EAC1C;4BACA,WAAW;wBACb;wBACA,wBAAwB;oBAC5B;;gBAEA,OAAO,OAAO,CAAC,EAAE,CAAC,kBAAkB;gBACpC,OAAO,OAAO,CAAC,EAAE,CAAC,2BAA2B;gBAC7C;gDAAO;wBACH,OAAO,OAAO,CAAC,UAAU;oBAC7B;;YACJ;QACJ;mCAAG;QAAC;KAAS;IAEb,qBACI,6LAAC,cAAc,QAAQ;QAAC,OAAO,OAAO,OAAO;kBACxC;;;;;;AAGb;IA/Ca;KAAA","debugId":null}}]
}