{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/ghost_socket/frontend/src/context/SocketContext.jsx"],"sourcesContent":["\"use client\"\r\nimport { createContext,useContext, useEffect, useRef } from \"react\";\r\nimport { io } from \"socket.io-client\";\r\nimport { useUser } from \"@clerk/nextjs\";\r\n\r\nconst SocketContext = createContext(null);\r\n\r\nexport const useSocket = () => {\r\n    return useContext(SocketContext);\r\n}\r\n\r\nexport const SocketProvider = ({children}) => {\r\n    const socket = useRef();\r\n    const {user} = useUser();\r\n    console.log(\"USer:\", user);\r\n    useEffect(() => {\r\n        if (user){\r\n            console.log(\"hi1\", HOST)\r\n            socket.current = io(HOST, {\r\n                withCredentials: true,\r\n                query: {userId: user.id, type: \"user\"}\r\n            })\r\n            console.log(\"hi2\")\r\n            socket.current.on(\"connect\", () => {\r\n                console.log(\"Connected to socket server\");\r\n            })\r\n        }\r\n    }, [user]);\r\n\r\n    return (\r\n        <SocketContext.Provider value={socket.current}>\r\n            {children}\r\n        </SocketContext.Provider>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AACA;;;AAHA;;;;AAKA,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAAE;AAE7B,MAAM,YAAY;;IACrB,OAAO,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;AACtB;GAFa;AAIN,MAAM,iBAAiB,CAAC,EAAC,QAAQ,EAAC;;IACrC,MAAM,SAAS,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD;IACpB,MAAM,EAAC,IAAI,EAAC,GAAG,CAAA,GAAA,+JAAA,CAAA,UAAO,AAAD;IACrB,QAAQ,GAAG,CAAC,SAAS;IACrB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACN,IAAI,MAAK;gBACL,QAAQ,GAAG,CAAC,OAAO;gBACnB,OAAO,OAAO,GAAG,CAAA,GAAA,kLAAA,CAAA,KAAE,AAAD,EAAE,MAAM;oBACtB,iBAAiB;oBACjB,OAAO;wBAAC,QAAQ,KAAK,EAAE;wBAAE,MAAM;oBAAM;gBACzC;gBACA,QAAQ,GAAG,CAAC;gBACZ,OAAO,OAAO,CAAC,EAAE,CAAC;gDAAW;wBACzB,QAAQ,GAAG,CAAC;oBAChB;;YACJ;QACJ;mCAAG;QAAC;KAAK;IAET,qBACI,6LAAC,cAAc,QAAQ;QAAC,OAAO,OAAO,OAAO;kBACxC;;;;;;AAGb;IAvBa;;QAEM,+JAAA,CAAA,UAAO;;;KAFb","debugId":null}}]
}